# add library
add_library(bse STATIC ./COSMIC/src/cosmic/src/comenv.f ./COSMIC/src/cosmic/src/corerd.f ./COSMIC/src/cosmic/src/deltat.f ./COSMIC/src/cosmic/src/dgcore.f ./COSMIC/src/cosmic/src/evolv2.f ./COSMIC/src/cosmic/src/gntage.f ./COSMIC/src/cosmic/src/hrdiag.f ./COSMIC/src/cosmic/src/instar.f ./COSMIC/src/cosmic/src/kick.f ./COSMIC/src/cosmic/src/mix.f ./COSMIC/src/cosmic/src/mlwind.f ./COSMIC/src/cosmic/src/mrenv.f ./COSMIC/src/cosmic/src/rl.f ./COSMIC/src/cosmic/src/star.f ./COSMIC/src/cosmic/src/zcnsts.f ./COSMIC/src/cosmic/src/concatkstars.f ./COSMIC/src/cosmic/src/bpp_array.f ./COSMIC/src/cosmic/src/checkstate.f ./COSMIC/src/cosmic/src/int64.f ./COSMIC/src/cosmic/src/tausworth.f ./COSMIC/src/cosmic/src/taus113-ran3.f ./COSMIC/src/cosmic/src/hrdiag_remnant.f ./COSMIC/src/cosmic/src/assign_remnant.f ./COSMIC/src/cosmic/src/SSE/SSE_zfuncs.f ./COSMIC/src/cosmic/src/SSE/SSE_deltat.f ./COSMIC/src/cosmic/src/SSE/SSE_hrdiag.f ./COSMIC/src/cosmic/src/SSE/SSE_star.f ./COSMIC/src/cosmic/src/SSE/SSE_gntage.f ./COSMIC/src/cosmic/src/SSE/SSE_mlwind.f ./COSMIC/src/cosmic/src/SSE/SSE_zcnsts.f ./COSMIC/src/cosmic/src/METISSE/src/METISSE_deltat.f90 ./COSMIC/src/cosmic/src/METISSE/src/METISSE_gntage.f90 ./COSMIC/src/cosmic/src/METISSE/src/METISSE_hrdiag.f90 ./COSMIC/src/cosmic/src/METISSE/src/METISSE_miscellaneous.f90 ./COSMIC/src/cosmic/src/METISSE/src/METISSE_mlwind.f90 ./COSMIC/src/cosmic/src/METISSE/src/METISSE_star.f90 ./COSMIC/src/cosmic/src/METISSE/src/METISSE_zcnsts.f90 ./COSMIC/src/cosmic/src/METISSE/src/remnant_support.f90 ./COSMIC/src/cosmic/src/METISSE/src/sse_support.f90 ./COSMIC/src/cosmic/src/METISSE/src/track_support.f90 ./COSMIC/src/cosmic/src/METISSE/src/z_support.f90 ./COSMIC/src/cosmic/src/METISSE/src/interp_support.f90 ./COSMIC/src/cosmic/src/METISSE/src/main_metisse.f90 ./COSMIC/src/cosmic/src/METISSE/src/evolv_metisse.f90 ./COSMIC/src/cosmic/src/METISSE/src/comenv_lambda.f90  ./COSMIC/src/cosmic/src/METISSE/src/assign_commons_main.f90 ./COSMIC/src/cosmic/src/assign_commons_COSMIC.f90)

# Include paths to headers
include_directories (./COSMIC/src/cosmic/src/)

install(TARGETS bse DESTINATION lib)

IF(BUILD_COSMIC)
	install(CODE "execute_process(COMMAND ${Python3_EXECUTABLE} -m pip install numpy)")
	install(CODE "execute_process(COMMAND ${Python3_EXECUTABLE} -m pip install . WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/COSMIC/)")
ENDIF(BUILD_COSMIC)
